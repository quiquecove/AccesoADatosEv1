package XML;

import java.io.IOException;

import org.xml.sax.Attributes;
import org.xml.sax.SAXException;
import org.xml.sax.helpers.DefaultHandler;
import org.xml.sax.helpers.XMLReaderFactory;

public class SAXimplementation {

	 public static void main(String[] args) {
	        try {
	            String currentElement = "";

	            org.xml.sax.XMLReader xmlReader = XMLReaderFactory.createXMLReader();
	            xmlReader.setContentHandler(new DefaultHandler() {
	                @Override
	                public void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException {
	                    currentElement = qName;
	                }

	                @Override
	                public void characters(char[] ch, int start, int length) throws SAXException {
	                    String value = new String(ch, start, length).trim();
	                    if (!value.isEmpty()) {
	                        if ("nombre".equals(currentElement)) {
	                            System.out.println("Persona: " + value);
	                        } else if ("serie_favorita".equals(currentElement)) {
	                            System.out.println("Serie Favorita: " + value);
	                        }
	                    }
	                }
	            });

	            xmlReader.parse(new org.xml.sax.InputSource("PersonaSerie.xml"));

	        } catch (SAXException | IOException e) {
	            e.printStackTrace();
	        }
	    }
}
