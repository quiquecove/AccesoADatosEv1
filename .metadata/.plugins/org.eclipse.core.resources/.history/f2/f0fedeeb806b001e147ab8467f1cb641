package actividades;
import java.io.*;
import java.util.Scanner;

public class AsignaturasEj4 implements Serializable{

	    private int codigoAsignatura;
	    private String nombre;
	    private String profesor;
	    private int horas;


	    public AsignaturasEj4(int codigoAsignatura, String nombre, String profesor, int horas) {
	        this.codigoAsignatura = codigoAsignatura;
	        this.nombre = nombre;
	        this.profesor = profesor;
	        this.horas = horas;
	    }

	    public int getCodigoAsignatura() {
	        return codigoAsignatura;
	    }

	    public String getNombre() {
	        return nombre;
	    }

	    public String getProfesor() {
	        return profesor;
	    }

	    public int getHoras() {
	        return horas;
	    }

	    public static void main(String[] args) {
	        AsignaturasEj4[] asignaturas = new AsignaturasEj4[5];
	        Scanner in = new Scanner(System.in);

	        for (int i = 0; i < 1; i++) {
	            System.out.println("Introduce los datos para la asignatura " + (i + 1) + ":");
	            System.out.print("Código de asignatura: ");
	            int codigo = in.nextInt();
	            in.nextLine();  // Consumir la nueva línea

	            System.out.print("Nombre de la asignatura: ");
	            String nombre = in.nextLine();

	            System.out.print("Nombre del profesor: ");
	            String profesor = in.nextLine();

	            System.out.print("Número de horas: ");
	            int horas = in.nextInt();
	            in.nextLine();  // Consumir la nueva línea

	            asignaturas[i] = new AsignaturasEj4(codigo, nombre, profesor, horas);
	        }

	        try {
	            ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream("asignaturas.dat"));

	            for (AsignaturasEj4 asignatura : asignaturas) {
	                objectOutputStream.writeObject(asignatura);
	            }

	            objectOutputStream.close();

	            System.out.println("Datos de las asignaturas almacenados en asignaturas.dat.");
	            
	            ObjectInputStream ois=new ObjectInputStream(new FileInputStream("asignaturas.dat"));
	            for (AsignaturasEj4 asignatura : asignaturas) {

	            	System.out.println(ois.readObject());
	            }
	            
	        } catch (IOException e) {
	            e.printStackTrace();
	        } catch (Exception e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
	    }
	

}
