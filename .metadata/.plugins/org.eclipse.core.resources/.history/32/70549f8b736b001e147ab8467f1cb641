package actividades;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

public class Vehiculo implements Serializable {
	private String modelo;
	private int anno;
	private double precio;

	public Vehiculo(String modelo, int anno, double precio) {
		this.modelo = modelo;
		this.anno = anno;
		this.precio = precio;
	}

	public String getModelo() {
		return modelo;
	}

	public void setModelo(String modelo) {
		this.modelo = modelo;
	}

	public int getAnno() {
		return anno;
	}

	public void setAnno(int anno) {
		this.anno = anno;
	}

	public double getPrecio() {
		return precio;
	}

	public void setPrecio(double precio) {
		this.precio = precio;
	}

	public static void main(String[] args) throws IOException, Exception {
		File fl = new File("vehiculos.dat");
		ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream(fl));
		VehiculosEj3[] vehiculos = new VehiculosEj3[10];

		vehiculos[0] = new VehiculosEj3("Toyota Corolla", 2022, 25000.0);
		vehiculos[1] = new VehiculosEj3("Ford F-150", 2023, 35000.0);
		vehiculos[2] = new VehiculosEj3("Honda Civic", 2021, 22500.0);
		vehiculos[3] = new VehiculosEj3("Chevrolet Silverado", 2022, 28000.0);
		vehiculos[4] = new VehiculosEj3("Volkswagen Golf", 2020, 20000.0);
		vehiculos[5] = new VehiculosEj3("BMW X5", 2022, 55000.0);
		vehiculos[6] = new VehiculosEj3("Nissan Altima", 2021, 24000.0);
		vehiculos[7] = new VehiculosEj3("Jeep Wrangler", 2023, 32000.0);
		vehiculos[8] = new VehiculosEj3("Hyundai Elantra", 2022, 23500.0);
		vehiculos[9] = new VehiculosEj3("Mercedes-Benz C-Class", 2023, 50000.0);

		for (VehiculosEj3 vehiculo : vehiculos) {
			objectOutputStream.writeObject(vehiculo);
		}
		objectOutputStream.close();

		ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream(fl));

		VehiculosEj3[] cochesLeidos = (VehiculosEj3[]) objectInputStream.readObject();

		if (cochesLeidos != null) {
			for (VehiculosEj3 coche : cochesLeidos) {
				System.out.println("Modelo: " + coche.getModelo());
				System.out.println("Año de Fabricación: " + coche.anno);
				System.out.println("Precio: " + coche.precio);
				System.out.println();
			}
		}
	}
}
